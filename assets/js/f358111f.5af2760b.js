"use strict";(self.webpackChunkmy_docs=self.webpackChunkmy_docs||[]).push([[490],{6599:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>u,frontMatter:()=>t,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"backend/data/models","title":"\ud83d\udd17 Mod\xe8les relationnels","description":"Cette section d\xe9crit les principaux mod\xe8les utilis\xe9s dans l\u2019architecture multi-tenant de la plateforme.","source":"@site/docs/backend/data/models.md","sourceDirName":"backend/data","slug":"/backend/data/models","permalink":"/docs/backend/data/models","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/backend/data/models.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Data Base","permalink":"/docs/backend/data-base"},"next":{"title":"SQL","permalink":"/docs/backend/data/sql"}}');var i=s(4848),l=s(8453);const t={sidebar_position:1},d="\ud83d\udd17 Mod\xe8les relationnels",c={},o=[{value:"\ud83c\udfe2 <code>BusinessPartner</code>",id:"-businesspartner",level:2},{value:"\ud83c\udff7\ufe0f <code>CompanyType</code>",id:"\ufe0f-companytype",level:2},{value:"\ud83d\udc65 <code>UserBusinessPartner</code>",id:"-userbusinesspartner",level:2},{value:"\ud83d\udee1\ufe0f <code>Role</code>",id:"\ufe0f-role",level:2},{value:"\ud83c\udf0d <code>UserRole</code> (optionnel)",id:"-userrole-optionnel",level:2}];function a(e){const n={blockquote:"blockquote",br:"br",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",p:"p",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"-mod\xe8les-relationnels",children:"\ud83d\udd17 Mod\xe8les relationnels"})}),"\n",(0,i.jsx)(n.p,{children:"Cette section d\xe9crit les principaux mod\xe8les utilis\xe9s dans l\u2019architecture multi-tenant de la plateforme."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h2,{id:"-businesspartner",children:["\ud83c\udfe2 ",(0,i.jsx)(n.code,{children:"BusinessPartner"})]}),"\n",(0,i.jsxs)(n.p,{children:["Repr\xe9sente une ",(0,i.jsx)(n.strong,{children:"entreprise"})," (tenant) dans le syst\xe8me.",(0,i.jsx)(n.br,{}),"\n","Chaque utilisateur est toujours li\xe9 \xe0 une ou plusieurs entreprises via la table ",(0,i.jsx)(n.code,{children:"UserBusinessPartner"}),"."]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["\ud83d\udca1 M\xeame ",(0,i.jsx)(n.strong,{children:"Fincargo"})," est une entreprise enregistr\xe9e dans cette table, avec un ",(0,i.jsx)(n.code,{children:"CompanyType"})," sp\xe9cifique."]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h2,{id:"\ufe0f-companytype",children:["\ud83c\udff7\ufe0f ",(0,i.jsx)(n.code,{children:"CompanyType"})]}),"\n",(0,i.jsxs)(n.p,{children:["D\xe9finit le ",(0,i.jsx)(n.strong,{children:"type"})," d\u2019entreprise (ex : classification m\xe9tier) :"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"carrier"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"freight_forwarder"})}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"fincargo"})," (interne)"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Permet une s\xe9paration claire des comportements ou vues selon le type d'entit\xe9."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h2,{id:"-userbusinesspartner",children:["\ud83d\udc65 ",(0,i.jsx)(n.code,{children:"UserBusinessPartner"})]}),"\n",(0,i.jsx)(n.p,{children:"Table d'association entre :"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["un ",(0,i.jsx)(n.code,{children:"User"})]}),"\n",(0,i.jsxs)(n.li,{children:["un ",(0,i.jsx)(n.code,{children:"BusinessPartner"})]}),"\n",(0,i.jsxs)(n.li,{children:["un ",(0,i.jsx)(n.code,{children:"Role"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"C\u2019est ici que se joue l'appartenance d\u2019un utilisateur \xe0 une entreprise et le r\xf4le qu\u2019il y occupe."}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["\u2139\ufe0f Si un utilisateur appartient \xe0 plusieurs entreprises, un champ ",(0,i.jsx)(n.code,{children:"is_primary"})," peut d\xe9signer l'entreprise principale."]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h2,{id:"\ufe0f-role",children:["\ud83d\udee1\ufe0f ",(0,i.jsx)(n.code,{children:"Role"})]}),"\n",(0,i.jsxs)(n.p,{children:["R\xf4les sp\xe9cifiques assignables \xe0 un utilisateur ",(0,i.jsx)(n.strong,{children:"dans une entreprise"}),".",(0,i.jsx)(n.br,{}),"\n","Exemples : ",(0,i.jsx)(n.code,{children:"Admin Carrier"}),", ",(0,i.jsx)(n.code,{children:"RH Freight Forwarder"}),", ",(0,i.jsx)(n.code,{children:"Manager"}),"."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Centralis\xe9 dans une table unique"}),"\n",(0,i.jsx)(n.li,{children:"R\xe9utilisable entre entreprises"}),"\n",(0,i.jsxs)(n.li,{children:["Chaque r\xf4le a un ",(0,i.jsx)(n.code,{children:"normalized_name"})," utilis\xe9 dans la s\xe9curit\xe9 (JWT, RBAC, etc.)"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h2,{id:"-userrole-optionnel",children:["\ud83c\udf0d ",(0,i.jsx)(n.code,{children:"UserRole"})," (optionnel)"]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["\u26a0\ufe0f Actuellement ",(0,i.jsx)(n.strong,{children:"non utilis\xe9"}),", mais utile si besoin de r\xf4les globaux."]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Tu ne gardes ",(0,i.jsx)(n.code,{children:"UserRole"})," que si :"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["un utilisateur peut avoir un r\xf4le ",(0,i.jsx)(n.strong,{children:"global"}),", ind\xe9pendant de l\u2019entreprise",(0,i.jsx)(n.br,{}),"\n","(ex : ",(0,i.jsx)(n.code,{children:"Super Auditeur"}),", ",(0,i.jsx)(n.code,{children:"Viewer multi-tenants"}),")"]}),"\n",(0,i.jsxs)(n.li,{children:["tu veux accorder des ",(0,i.jsx)(n.strong,{children:"permissions transversales"}),", en dehors d\u2019un tenant"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{})]})}function u(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>d});var r=s(6540);const i={},l=r.createContext(i);function t(e){const n=r.useContext(l);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),r.createElement(l.Provider,{value:n},e.children)}}}]);